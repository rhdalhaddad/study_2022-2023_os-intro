---
## Front matter
title: "Архитектура компьютеров и операционные системы | Операционные системы"
subtitle: "Лабораторная работа № 13. Markdown"
author: " рашид алхаддад- НКАбд-04-22"

## Generic otions
lang: ru-RU

toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы:
-Приобрести простейшие навыки разработки, анализа, тестирования и отладки приложений в ОС типа UNIX/Linux на примере создания на языке программирования С калькулятора с простейшими функциями.

# Задания:

1. В домашнем каталоге создайте подкаталог ~/work/os/lab_prog.
2. Создайте в нём файлы: calculate.h, calculate.c, main.c. Это будет примитивнейший калькулятор, способный складывать, вычитать, умножать и делить, возводить число в степень, брать квадратный корень, вычислять sin, cos, tan. При запуске он будет запрашивать первое число, операцию, второе число. После этого программа выведет результат и остановится. Реализация функций калькулятора в файле calculate.h. Интерфейсный файл calculate.h, описывающий формат вызова функциикаль кулятора. Основной файл main.c, реализующий интерфейс пользователя к калькулятору
3. Выполните компиляцию программы посредством gcc
4. При необходимости исправьте синтаксические ошибки.
5. Создайте Makefile со следующим содержанием
6. С помощью gdb выполните отладку программы calcul (перед использованием gdb исправьте Makefile):
– Запустите отладчик GDB, загрузив в него программу для отладки
– Для запуска программы внутри отладчика введите команду run:
– Для постраничного (по 9 строк) просмотра исходного код используйте команду list:
– Для просмотра строк с 12 по 15 основного файла используйте list с параметрами:
– Для просмотра определённых строк не основного файла используйте list с параметрами:
– Установите точку останова в файле calculate.c на строке номер 21:
– Выведите информацию об имеющихся в проекте точка останова:
– Запустите программу внутри отладчика и убедитесь, что программа остановится в момент прохождения точки останова:
– Отладчик выдаст следующую информацию:
а команда backtrace покажет весь стек вызываемых функций от начала программы до текущего места.
– Посмотрите, чему равно на этом этапе значение переменной Numeral, введя:
На экран должно быть выведено число 5.
– Сравните с результатом вывода на экран после использования команды:
– Уберите точки останова:
7. С помощью утилиты splint попробуйте проанализировать коды файлов calculate.c и main.c.


# Теоретическое введение:

Процесс разработки программного обеспечения обычно разделяется на следующие этапы:
– планирование, включающее сбор и анализ требований к функционалу и другим характеристикам разрабатываемого приложения;

– проектирование, включающее в себя разработку базовых алгоритмов и спецификаций, определение языка программирования;

– непосредственная разработка приложения:

– кодирование — по сути создание исходного текста программы (возможно в нескольких вариантах);

– анализ разработанного кода;

– сборка, компиляция и разработка исполняемого модуля;

– тестирование и отладка, сохранение произведённых изменений;

– документирование.

Для создания исходного текста программы разработчик может воспользоваться любым удобным для него редактором текста: vi, vim, mceditor, emacs, geany и др. После завершения написания исходного кода программы (возможно состоящей из нескольких файлов), необходимо её скомпилировать и получить исполняемый модуль.

Отладка — этап разработки компьютерной программы, на котором обнаруживают, локализуют и устраняют ошибки. Чтобы понять, где возникла ошибка, приходится:

узнавать текущие значения переменных;
выяснять, по какому пути выполнялась программа.

# Выполнение лабораторной работы:

1. создаю поддиректорию  ~/work/os/lab_prog.

      ![рисунок 1](image/1.1.png){#fig:001 width=70%}

2. . Создаю в нём файлы: calculate.h, calculate.c, main.c.


       ![рисунок 2](image/1.2.png){#fig:002 width=70%}
 
       
Это будет примитивнейший калькулятор, способный складывать, вычитать, умножать и делить, возводить число в степень, брать квадратный корень, вычислять sin, cos, tan. При запуске он будет запрашивать первое число, операцию, второе число. После этого программа выведет результат и остановится.

![рисунок 3](image/1.3.png){#fig:003 width=70%}

![рисунок 4](image/1.4.png){#fig:004 width=70%}

![рисунок 5](image/1.5.png){#fig:005 width=70%}

3. Выполняю компиляцию программы посредством gcc

![рисунок 6](image/1.6.png){#fig:006 width=70%}


4. Создаю Makefile со следующим содержанием:


![рисунок 7](image/1.7.png){#fig:007 width=70%}

5. С помощью gdb выполните отладку программы calcul

– Запускаю отладчик GDB, загрузив в него программу для отладки:

![рисунок 8](image/1.8.png){#fig:008 width=70%}

    запускаю программу внутри отладчика введите команду run:

![рисунок 9](image/1.9.png){#fig:009 width=70%}

   постранично (по 9 строк) просмотра исходного код использую команду list:

![рисунок 10](image/1.10.png){#fig:0010 width=70%}

просматриваю строк с 12 по 15 основного файла используйте list с параметрами:

![рисунок 11](image/1.11.png){#fig:0011 width=70%}

просматриваю определённых строк не основного файла использую list с параметрами:

![рисунок 12](image/1.12.png){#fig:0012 width=70%}

 Устанавливаю точку останова в файле calculate.c на строке номер 21:

![рисунок 13](image/1.13.png){#fig:0013 width=70%}

Вывожу информацию об имеющихся в проекте точка останова:

![рисунок 14](image/1.14.png){#fig:0014 width=70%}

Запускаю программу внутри отладчика и убедитесь, что программа остановится в момент прохождения точки останова:

![рисунок 15](image/1.15.png){#fig:0015 width=70%}

а команда backtrace покажет весь стек вызываемых функций от начала программы до текущего места.

![рисунок 16](image/1.16.png){#fig:0016 width=70%}

    Посматриваю, чему равно на этом этапе значение переменной Numeral,    
    Введя. Удаляю точки останова:

![рисунок 17](image/1.17.png){#fig:0017 width=70%}


6. С помощью утилиты splint попробуйте проанализировать коды файлов calculate.c и main.c

![рисунок 18](image/1.18.png){#fig:0018 width=70%}





# Вывод
- В ходе лабораторной работы я приобрела простейшие навыки разработки, анализа, тестирования и отладки приложений в ОС типа UNIX/Linux на примере создания на языке программирования С калькулятора с простейшими функциями.


## Контрольные вопросы: 

1. Как получить более полную информацию о программах, make, gdb и др.?

дополнительную информацию о этих программах можно получить с помощью функций info и man

2. Назовите и дайте краткую характеристику основным этапам разработки приложений в UNIX?


UNIX поддерживает следующие основные этапы разработки приложений:

создание исходного кода программы;

представляется в виде файла:

сохранение различных вариантов исходного текста;

анализ исходного текста; Необходимо отслеживать изменения исходного кода, а также при работе более двух программистов над проектом программы нужно, чтобы они не делали изменений кода в одно время.

компиляция исходного текста и построение исполняемого м тестирование и отладка

3. Что такое суффиксы и префиксы? Основное их назначение. Приведите примеры их использования

суффиксы и префиксы указывают тип объекта. Использование суффикса "с" для имени файла с программой на языке Си - отражает удобное и полезное соглашение, принятое в OC UNIX. "Для любого имени входного файласуффикс определяет какая компиляция требуется. одно из полезных свойств компилятора Си - его способность по суффиксам определять типы файлов. По суффикс с компилятор распознает, что файл abcd,s "должен компилироваться, а по суффикско, что файл abcd. 'явля модулем и для получения исполняемой программы необходим выполнить редактирование связей. Простейший пример командной строки для компиляции программы арсds 'и построения исполняемого модуля abgd имеет вид: SS"-o" abcd abcd.c. Некоторые проекты предпочитают показывать префиксы в начале текста изменений для старых (old) и новых (new) файлов. Опция - prefix может быть использована для установки такого префикса. Плюс к этому команда diff-pl выводит префиксы в форме которая подходит для команды patch-p1. 


4. основное назначение компилятора с языка Си в UNIX?

Основное назначение компилятора с языка Си заключается в компиляции всей программы в целом "и "получении исполняемого модуля.

5. Для чего предназначена утилита make

При разработке большой программы, состоящей из нескольких исходных файлов заголовков, приходится постоянно следить за файлами, которые требуют перекомпиляции после внесения изменений. Программа make -освобождает пользователя от такой рутинной работы и служит для документирования взаимосвязей между файлами. Описание взаимосвязей и соответствующих действий хранится в так называемом make-файле, который по умолчанию имеет


6. Приведите структуру make-файла. Дайте характеристику основным элементам этого файла.

в общем случае make-файл содержит последовательность записей (строк), определяющих зависимости между файлами. Первая строка записи представляет собой список целевых (зависимых) файлов, разделенных пробелами, за которыми следует двоеточие и список файлов, от которых зависят целевые. Текст, следующий за точкой с запятой, и все последующие строки, начинающиеся с литеры табуляциИ, ЯВЛЯЮТСЯ командами оC UNIX, которые необходимо выполнить для обновления целевого файла. Таким образом, спецификация взаимосвязей имеет формат: target1-[- target2...]:[:][dependmenti... ][ (ab) commands] [#commentaryl - [ (tab) commands] [#commentaryl, где # - специфицирует начало комментария, так как содержимое строки, начиная с # и до конца строки, не будет. обрабатываться командой make; ': - последовательность команд "OC "UNIX должна содержаться в одной строке make-файла (файла описаний), есть возможность переноса команд (), но она считается как одна строка; : последовательность команд OC UNIX может содержаться в нескольких последовательных строках файла описаний

Приведённый выше make-файл включает два способа компиляции и построения исполняемого модуля. Первый способ предусматривает обычную компиляцию с построением исполняемого модуля с именем abcd. второй способ позволяет включать в исполняемый модуль 'testabcd возможность выполнить процесс отладки на уровне исходного текста

7. Назовите основное свойство, присущее всем программам отладки. Что необходимо сделать, чтобы его можно было использовать?

Пошаговая отладка программ заключается в том, что выполняется один оператор программы и, затем контролируются те переменные, на которые должен был воздействовать данный оператор. Если в программе имеются уже - отлаженные подпрограммы, то подпрограмму можно рассматривать, как один оператор программы и воспользоваться вторым способом отладки программ. Если в программе существует достаточно большой участок программы, уже отлаженный ранее, то его можно выполнить, не контролируя переменные, на которые он воздействует. Использование точек останова позволяет пропускать уже отлаженную часть программы. Точка "останова устанавливается местах, где необходимо проверить содержимое переменных или просто проконтролировать, передаётся "ли управление данному оператору. Я Практически во всех отладчиках поддерживается это свойство (а также выполнение программы до курсора и выход из подпрограммы) Затем отладка программы продолжается в пошаговом режиме с контролем локальных и глобальных переменных, а также внутренних регистров микроконтроллера и напряжений на выводах этой микросхемы

8. Назовите и дайте основную характеристику основным командам отладчика gbd.

backtrace- Выводит Весь путь к текущей точке останова, то есть названия - всех функций, начиная от main() ; иными словами, выводит весь стек - функций;

break-устанавливает точку останова; параметром может быть номер строки или название функции;

clear - удаляет все точки останова на текущем уровне стека (то есть текущей функции);

continue-продолжает выполнение программы от текущей точки до конца;

delete - удаляет точку останова или контрольное выражение;

display - добавляет выражение в список выражений, значения которых отображаются каждый раз приостановке программы;

finish - выполняет программу до выхода из текущей функции; отображает возвращаемое значение, если такое имеется;

info breakpoints - выводит список всех имеющихся точек останова;

- info watchpoints - Выводит список всех имеющихся контрольных выражений;

Splint- выводит исходный код; в качестве параметра передаются название файла исходного кода, затем, через двоеточие, номер начальной и конечной строки;

Next - пошаговое выполнение программы, но, в отличие от команды злер, не выполняет пошагово вызываемые функции

Stер-пошаговое выполнение программы;

watch - устанавливает контрольное выражение, программа остановится, как только значение контрольного выражения изменится

9. Опишите по шагам схему отладки программы которую вы использовали при
выполнении лабораторной работы.

1. Скомпилировала программу
2 . Выполнила ее
3. Затем я воспользовалась командами list, list-12,15, -list- calculate.c:20, 29 и другими) 4. Поставила точку останова на некоторой строке
5. Вновь запустила программу
6. Удалила точку останова

10. Прокомментируйте реакцию компилятора на синтаксические ошибки в программе при его первом запуске

у меня не было никаких синтаксических ошибок при первом запуске.

11. Назовите основные средства, повышающие понимание исходного кода программы.

Если вы работаете с исходным кодом, который не вами разрабатывался, то назначение различных конструкций может быть не совсем понятным. "Система разработки приложений UNIX предоставляет различные средства, повышающие понимание исходного кода. К ним относятся: cscope - исследование функций, содержащихся в программе; 3Rbins критическая проверка программ, написанных на языке Си.

12. Каковы основные задачи, решаемые программой splint?


Проверка корректности задания аргументов всех использованных в программе функций, а также типов возвращаемых ими значений

Поиск фрагментов исходного текста, корректных с точки зрения синтаксиса - языка си, но малоэффективных с точки зрения их реализации или содержащих в себе семантические ошибки

общая оценка мобильности пользовательской программы

	

